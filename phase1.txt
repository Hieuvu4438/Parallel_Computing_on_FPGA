ğŸš€ 1. Build Dá»± Ãn
# BÆ°á»›c 1: VÃ o thÆ° má»¥c dá»± Ã¡ncd /home/iec/Parallel_Computing_on_FPGA# BÆ°á»›c 2: Táº¡o thÆ° má»¥c build vÃ  buildmkdir -p build && cd buildcmake ..make -j4# Káº¿t quáº£: Táº¡o ra 2 file thá»±c thi#   - respiratory_analysis  (chÆ°Æ¡ng trÃ¬nh chÃ­nh)#   - test_signal_prep      (unit tests)
ğŸ¯ 2. Cháº¡y ChÆ°Æ¡ng TrÃ¬nh
A. Xá»­ lÃ½ toÃ n bá»™ ICBHI Dataset
# Cháº¡y tá»« thÆ° má»¥c gá»‘c dá»± Ã¡n (QUAN TRá»ŒNG!)cd /home/iec/Parallel_Computing_on_FPGA./build/respiratory_analysis
B. Cháº¡y nhanh vá»›i 10 file Ä‘áº§u tiÃªn (test)
./build/respiratory_analysis --test
C. Xá»­ lÃ½ má»™t file WAV cá»¥ thá»ƒ
./build/respiratory_analysis path/to/file.wav
D. Chá»‰ xem thá»‘ng kÃª
./build/respiratory_analysis --stats
E. Chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n dataset khÃ¡c
./build/respiratory_analysis --path /path/to/custom/dataset
F. Cháº¡y Unit Tests
./build/test_signal_prep
ğŸ’» 3. Sá»­ Dá»¥ng Trong Code C++
A. Xá»­ lÃ½ má»™t file WAV Ä‘Æ¡n láº»
#include "SignalPrep.hpp"using namespace respiratory;int main() {    SignalProcessor processor;    std::vector<BreathingCycle> cycles;        // Xá»­ lÃ½ file    if (processor.processFile("audio.wav", cycles)) {        // Láº¥y tÃ­n hiá»‡u Ä‘Ã£ xá»­ lÃ½        const auto& signal = processor.getProcessedSignal();                std::cout << "Sample rate: " << processor.getCurrentSampleRate() << " Hz\n";        std::cout << "Samples: " << signal.size() << "\n";        std::cout << "Cycles: " << cycles.size() << "\n";    }    return 0;}
B. Load toÃ n bá»™ ICBHI Dataset
#include "SignalPrep.hpp"using namespace respiratory;int main() {    // Khá»Ÿi táº¡o DatasetManager vá»›i Ä‘Æ°á»ng dáº«n dataset    DatasetManager manager("data/samples/ICBHI_final_database");        // Load dataset    std::vector<LabeledBreathingCycle> dataset;    manager.loadDataset(dataset, true);  // true = verbose mode        // In thá»‘ng kÃª    manager.getStatistics().print();        // Duyá»‡t qua tá»«ng chu ká»³    for (const auto& cycle : dataset) {        std::cout << "Patient: " << cycle.patientInfo.patientId                  << " | Label: " << cycle.getLabelString()                  << " | Duration: " << cycle.duration << "s"                  << " | Samples: " << cycle.samples.size() << "\n";    }        return 0;}
C. Chia Train/Test Sets
std::vector<LabeledBreathingCycle> trainSet, testSet;// Chia 80% train, 20% test vá»›i seed=42 Ä‘á»ƒ reproducibleDatasetManager::splitDataset(dataset, 0.8f, trainSet, testSet, 42);std::cout << "Train: " << trainSet.size() << " samples\n";std::cout << "Test: " << testSet.size() << " samples\n";
D. Lá»c theo nhÃ£n
std::vector<LabeledBreathingCycle> crackleOnly;// Láº¥y chá»‰ cÃ¡c máº«u cÃ³ CrackleDatasetManager::filterByLabel(dataset, RespiratoryLabel::CRACKLE, crackleOnly);std::cout << "Crackle samples: " << crackleOnly.size() << "\n";
E. Load vá»›i Progress Callback
manager.loadDatasetWithProgress(dataset,    [](size_t current, size_t total) {        float percent = 100.0f * current / total;        std::cout << "\rProgress: " << percent << "%    " << std::flush;    });
ğŸ“Š 4. Cáº¥u TrÃºc Dá»¯ Liá»‡u Output
LabeledBreathingCycle - Chu ká»³ hÃ´ háº¥p Ä‘Ã£ gÃ¡n nhÃ£n
Field	Type	MÃ´ táº£
samples	vector<float>	Dá»¯ liá»‡u tÃ­n hiá»‡u Ä‘Ã£ xá»­ lÃ½ (4kHz, normalized)
label	RespiratoryLabel	NhÃ£n: NORMAL, CRACKLE, WHEEZE, BOTH
patientInfo	PatientInfo	ThÃ´ng tin bá»‡nh nhÃ¢n
startTime	float	Thá»i Ä‘iá»ƒm báº¯t Ä‘áº§u trong file gá»‘c (giÃ¢y)
endTime	float	Thá»i Ä‘iá»ƒm káº¿t thÃºc (giÃ¢y)
duration	float	Thá»i lÆ°á»£ng (giÃ¢y)
sourceFile	string	TÃªn file nguá»“n
PatientInfo - ThÃ´ng tin bá»‡nh nhÃ¢n
Field	Type	MÃ´ táº£
patientId	int	MÃ£ bá»‡nh nhÃ¢n (101-226)
chestLocation	string	Vá»‹ trÃ­ nghe (Al, Ar, Pl, Pr, Tc...)
equipment	string	Thiáº¿t bá»‹ (Meditron, LittC2SE...)
âš™ï¸ 5. CÃ¡c Háº±ng Sá»‘ Cáº¥u HÃ¬nh
Äá»‹nh nghÄ©a trong SignalPrep.hpp:
constexpr float TARGET_SAMPLE_RATE = 4000.0f;   // Hzconstexpr float BANDPASS_LOW_FREQ = 50.0f;      // Hzconstexpr float BANDPASS_HIGH_FREQ = 2500.0f;   // Hzconstexpr int FILTER_ORDER = 4;                  // Butterworth order
ğŸ“ 6. Cáº¥u TrÃºc ThÆ° Má»¥c Dá»± Ãn
Parallel_Computing_on_FPGA/â”œâ”€â”€ build/                      # ThÆ° má»¥c build (tá»± Ä‘á»™ng táº¡o)â”‚   â”œâ”€â”€ respiratory_analysis    # ChÆ°Æ¡ng trÃ¬nh chÃ­nhâ”‚   â””â”€â”€ test_signal_prep        # Unit testsâ”œâ”€â”€ data/â”‚   â””â”€â”€ samples/â”‚       â””â”€â”€ ICBHI_final_database/   # Dataset ICBHIâ”‚           â”œâ”€â”€ 101_1b1_Al_sc_Meditron.wavâ”‚           â”œâ”€â”€ 101_1b1_Al_sc_Meditron.txtâ”‚           â””â”€â”€ ...â”œâ”€â”€ include/â”‚   â”œâ”€â”€ SignalPrep.hpp          # Header chÃ­nhâ”‚   â”œâ”€â”€ Common.h                # Types chungâ”‚   â””â”€â”€ dr_wav.h                # ThÆ° viá»‡n Ä‘á»c WAVâ”œâ”€â”€ src/â”‚   â”œâ”€â”€ preprocessing/â”‚   â”‚   â””â”€â”€ SignalPrep.cpp      # Implementationâ”‚   â””â”€â”€ main.cpp                # Entry pointâ”œâ”€â”€ tests/â”‚   â””â”€â”€ test_signal_prep.cpp    # Unit testsâ””â”€â”€ CMakeLists.txt              # Build config
â“ 7. LÆ°u Ã Quan Trá»ng
Cháº¡y tá»« thÆ° má»¥c gá»‘c: Pháº£i cháº¡y tá»« /home/iec/Parallel_Computing_on_FPGA Ä‘á»ƒ Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i hoáº¡t Ä‘á»™ng Ä‘Ãºng
Äá»‹nh dáº¡ng WAV: Há»— trá»£ 8/16/24/32-bit PCM vÃ  float
Táº§n sá»‘ Nyquist: Náº¿u sample rate < 5kHz, high cutoff sáº½ tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh xuá»‘ng 95% Nyquist
Memory: Dataset ICBHI ~7000 cycles, má»—i cycle ~2-3 giÃ¢y = ~10,000 samples float = ~40KB â†’ Tá»•ng ~280MB RAM
Báº¡n cÃ³ cÃ¢u há»i cá»¥ thá»ƒ nÃ o vá» cÃ¡ch sá»­ dá»¥ng khÃ´ng?